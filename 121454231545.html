<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>prototype</title>
  <link rel="icon" href="9582013.png">

<style>
body{
  margin:0;
  font-family:"Segoe UI",system-ui,sans-serif;
  background:linear-gradient(135deg,#f5f7fa,#c3cfe2);
  overflow-x:hidden;
}
header{
  background:#ffffffcc;
  padding:20px;
  text-align:center;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  position:sticky;
  top:0;
  z-index:10;
}
h1{ margin:0; }
main{
  max-width:1200px;
  margin:40px auto;
  padding:0 20px;
  position:relative;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
}
.card{
  background:#fff;
  border-radius:12px;
  cursor:pointer;
  transition:.25s;
  overflow:hidden;
}
.card:hover{transform:translateY(-4px);}
.colors{display:flex;height:120px;}
.colors div{flex:1;}
.card p{margin:10px;font-weight:600;text-align:center;}
.palette-full{
  display:flex;height:300px;border-radius:18px;overflow:hidden;margin-bottom:20px;
  transition:all 0.5s ease;
}
.palette-full div{
  flex:1;display:flex;align-items:flex-end;justify-content:center;padding:12px;
  color:white;font-weight:bold;letter-spacing:.5px;cursor:pointer;
}
.back{margin-bottom:20px;display:inline-block;color:#333;text-decoration:none;}
.color-page{text-align:center;}
.color-box{
  height:220px;border-radius:20px;display:flex;align-items:center;
  justify-content:center;color:white;font-size:24px;font-weight:bold;margin-bottom:20px;
}
.ui-demo{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:20px;
}
.demo-card{
  background:white;padding:20px;border-radius:14px;text-align:center;
}
button{border:none;padding:10px 16px;border-radius:8px;cursor:pointer;color:white;}
.heart{float:right;cursor:pointer;}
#color-info{
  opacity:0;transform:translateY(20px);transition:all 0.4s ease;margin-top:20px;
}
#color-info.show{opacity:1;transform:translateY(0);}
.page{
  position:absolute;width:100%;top:0;left:100%;opacity:0;transition:all 0.5s ease;
}
.page.active{left:0;opacity:1;}
.page.exit-left{left:-100%;opacity:0;}
.page.exit-right{left:100%;opacity:0;}
</style>
</head>
<body>
<header>
  <h1>üé® Nippon Colors Demo</h1>
</header>
<main id="app"></main>

<script>

// ---------------- ÂèñÂæó app ÂÆπÂô® ----------------
const app = document.getElementById("app");

let favorites = JSON.parse(localStorage.getItem("fav")||"[]");
let currentPage = null;

// ---------------- Â∑•ÂÖ∑ÂáΩÊï∏ ----------------
function hexToRgb(hex){
  const v=parseInt(hex.slice(1),16);
  return { r:(v>>16)&255, g:(v>>8)&255, b:v&255 };
}

// ---------------- Palette Ë≥áÊñô ----------------
const palettes = [
  { id:"warm_clay", name:"Warm Clay", colors:[
    {hex:"#EA825D", img:"https://picsum.photos/seed/1/300/200"},
    {hex:"#EAA285", img:"https://picsum.photos/seed/2/300/200"},
    {hex:"#F3D1C2", img:"https://picsum.photos/seed/3/300/200"},
    {hex:"#FAF6F4", img:"https://picsum.photos/seed/4/300/200"}
  ]},
  { id:"golden_light", name:"Golden Light", colors:[
    {hex:"#F3BE42", img:"https://picsum.photos/seed/5/300/200"},
    {hex:"#F8D87D", img:"https://picsum.photos/seed/6/300/200"},
    {hex:"#FAEABA", img:"https://picsum.photos/seed/7/300/200"},
    {hex:"#FBFAF3", img:"https://picsum.photos/seed/8/300/200"}
  ]},
  { id:"dusty_rose", name:"Dusty Rose", colors:[
    {hex:"#714745", img:"https://picsum.photos/seed/9/300/200"},
    {hex:"#B17E81", img:"https://picsum.photos/seed/10/300/200"},
    {hex:"#E0B8B7", img:"https://picsum.photos/seed/11/300/200"},
    {hex:"#F9F5F5", img:"https://picsum.photos/seed/12/300/200"}
  ]},
  { id:"steel_blue", name:"Steel Blue", colors:[
    {hex:"#3D5C8A", img:"https://picsum.photos/seed/13/300/200"},
    {hex:"#9DBCD6", img:"https://picsum.photos/seed/14/300/200"},
    {hex:"#F0F1F2", img:"https://picsum.photos/seed/15/300/200"},
    {hex:"#F3B092", img:"https://picsum.photos/seed/16/300/200"}
  ]},
  { id:"soft_apricot", name:"Soft Apricot", colors:[
    {hex:"#F9CD2C", img:"https://picsum.photos/seed/17/300/200"},
    {hex:"#EDC491", img:"https://picsum.photos/seed/18/300/200"},
    {hex:"#F5DFD6", img:"https://picsum.photos/seed/19/300/200"},
    {hex:"#FCF8F6", img:"https://picsum.photos/seed/20/300/200"}
  ]},
  { id:"sky_mist", name:"Sky Mist", colors:[
    {hex:"#7EB7E4", img:"https://picsum.photos/seed/21/300/200"},
    {hex:"#CCD9E8", img:"https://picsum.photos/seed/22/300/200"},
    {hex:"#C4AFB0", img:"https://picsum.photos/seed/23/300/200"},
    {hex:"#F5F7F9", img:"https://picsum.photos/seed/24/300/200"}
  ]},
  { id:"olive_garden", name:"Olive Garden", colors:[
    {hex:"#496128", img:"https://picsum.photos/seed/25/300/200"},
    {hex:"#59751E", img:"https://picsum.photos/seed/26/300/200"},
    {hex:"#9DA483", img:"https://picsum.photos/seed/27/300/200"},
    {hex:"#F7EDE9", img:"https://picsum.photos/seed/28/300/200"}
  ]},
  { id:"stone_gray", name:"Stone Gray", colors:[
    {hex:"#2F2F2F", img:"https://picsum.photos/seed/29/300/200"},
    {hex:"#6B6B6B", img:"https://picsum.photos/seed/30/300/200"},
    {hex:"#B6B6B6", img:"https://picsum.photos/seed/31/300/200"},
    {hex:"#F2F2F2", img:"https://picsum.photos/seed/32/300/200"}
  ]},
  { id:"lavender_gray", name:"Lavender Gray", colors:[
    {hex:"#7C717A", img:"https://picsum.photos/seed/33/300/200"},
    {hex:"#A38E93", img:"https://picsum.photos/seed/34/300/200"},
    {hex:"#D1BBC0", img:"https://picsum.photos/seed/35/300/200"},
    {hex:"#F9F7F8", img:"https://picsum.photos/seed/36/300/200"}
  ]},
  { id:"mist_blue", name:"Mist Blue", colors:[
    {hex:"#6FA8B8", img:"https://picsum.photos/seed/37/300/200"},
    {hex:"#9FC6CF", img:"https://picsum.photos/seed/38/300/200"},
    {hex:"#CFE2E6", img:"https://picsum.photos/seed/39/300/200"},
    {hex:"#F2F7F8", img:"https://picsum.photos/seed/40/300/200"}
  ]},
  { id:"deep_teal", name:"Deep Teal", colors:[
    {hex:"#0E3F44", img:"https://picsum.photos/seed/41/300/200"},
    {hex:"#1F6A70", img:"https://picsum.photos/seed/42/300/200"},
    {hex:"#6FB3B8", img:"https://picsum.photos/seed/43/300/200"},
    {hex:"#DCEEEF", img:"https://picsum.photos/seed/44/300/200"}
  ]},
  { id:"ice_blue", name:"Ice Blue", colors:[
    {hex:"#7EB7E4", img:"https://picsum.photos/seed/45/300/200"},
    {hex:"#B9D8EC", img:"https://picsum.photos/seed/46/300/200"},
    {hex:"#E4F0F7", img:"https://picsum.photos/seed/47/300/200"},
    {hex:"#F7FBFD", img:"https://picsum.photos/seed/48/300/200"}
  ]},
  { id:"moss_dark", name:"Moss Dark", colors:[
    {hex:"#1F2E23", img:"https://picsum.photos/seed/49/300/200"},
    {hex:"#4A5E49", img:"https://picsum.photos/seed/50/300/200"},
    {hex:"#8E9E8B", img:"https://picsum.photos/seed/51/300/200"},
    {hex:"#ECEFEA", img:"https://picsum.photos/seed/52/300/200"}
  ]},
  { id:"sage_soft", name:"Sage Soft", colors:[
    {hex:"#6E7F73", img:"https://picsum.photos/seed/53/300/200"},
    {hex:"#9FB0A3", img:"https://picsum.photos/seed/54/300/200"},
    {hex:"#CBD7CE", img:"https://picsum.photos/seed/55/300/200"},
    {hex:"#F3F6F4", img:"https://picsum.photos/seed/56/300/200"}
  ]},
  { id:"warm_gray", name:"Warm Gray", colors:[
    {hex:"#4E4744", img:"https://picsum.photos/seed/57/300/200"},
    {hex:"#8B827C", img:"https://picsum.photos/seed/58/300/200"},
    {hex:"#CFC7C3", img:"https://picsum.photos/seed/59/300/200"},
    {hex:"#F7F4F2", img:"https://picsum.photos/seed/60/300/200"}
  ]},
  { id:"lavender_mute", name:"Lavender Mute", colors:[
    {hex:"#6E6A7E", img:"https://picsum.photos/seed/61/300/200"},
    {hex:"#9A96AD", img:"https://picsum.photos/seed/62/300/200"},
    {hex:"#C9C6D8", img:"https://picsum.photos/seed/63/300/200"},
    {hex:"#F5F4FA", img:"https://picsum.photos/seed/64/300/200"}
  ]},
  { id:"violet_dust", name:"Violet Dust", colors:[
    {hex:"#7B5A6A", img:"https://picsum.photos/seed/65/300/200"},
    {hex:"#A88597", img:"https://picsum.photos/seed/66/300/200"},
    {hex:"#D2BAC6", img:"https://picsum.photos/seed/67/300/200"},
    {hex:"#F8F2F5", img:"https://picsum.photos/seed/68/300/200"}
  ]},
  { id:"rose_powder", name:"Rose Powder", colors:[
    {hex:"#A55B5E", img:"https://picsum.photos/seed/69/300/200"},
    {hex:"#D39A9C", img:"https://picsum.photos/seed/70/300/200"},
    {hex:"#EBC7C8", img:"https://picsum.photos/seed/71/300/200"},
    {hex:"#FBF3F3", img:"https://picsum.photos/seed/72/300/200"}
  ]},
  { id:"blush_light", name:"Blush Light", colors:[
    {hex:"#E58A8A", img:"https://picsum.photos/seed/73/300/200"},
    {hex:"#F1B6B6", img:"https://picsum.photos/seed/74/300/200"},
    {hex:"#F7DADA", img:"https://picsum.photos/seed/75/300/200"},
    {hex:"#FDF6F6", img:"https://picsum.photos/seed/76/300/200"}
  ]},
  { id:"clay_earth", name:"Clay Earth", colors:[
    {hex:"#5A4036", img:"https://picsum.photos/seed/77/300/200"},
    {hex:"#9B7768", img:"https://picsum.photos/seed/78/300/200"},
    {hex:"#D4B6AA", img:"https://picsum.photos/seed/79/300/200"},
    {hex:"#F6EFEA", img:"https://picsum.photos/seed/80/300/200"}
  ]},
  { id:"moss_field", name:"Moss Field", colors:[
    {hex:"#496128", img:"https://picsum.photos/seed/81/300/200"},
    {hex:"#9BAC73", img:"https://picsum.photos/seed/82/300/200"},
    {hex:"#C8D0B6", img:"https://picsum.photos/seed/83/300/200"},
    {hex:"#F5F6F2", img:"https://picsum.photos/seed/84/300/200"}
  ]},
  { id:"soft_lilac", name:"Soft Lilac", colors:[
    {hex:"#7C717A", img:"https://picsum.photos/seed/85/300/200"},
    {hex:"#BB93B9", img:"https://picsum.photos/seed/86/300/200"},
    {hex:"#D2BADC", img:"https://picsum.photos/seed/87/300/200"},
    {hex:"#F9F4F8", img:"https://picsum.photos/seed/88/300/200"}
  ]}
];


let favorites = JSON.parse(localStorage.getItem("fav")||"[]");
let currentPage = null;

// ---------------- Â∑•ÂÖ∑ÂáΩÊï∏ ----------------
function hexToRgb(hex){
  const v=parseInt(hex.slice(1),16);
  return { r:(v>>16)&255, g:(v>>8)&255, b:v&255 };
}
function rgbToHsl(r,g,b){
  r/=255; g/=255; b/=255;
  const max=Math.max(r,g,b), min=Math.min(r,g,b);
  let h,s,l=(max+min)/2;
  if(max===min){ h=s=0; } else{
    const d=max-min;
    s=l>0.5?d/(2-max-min):d/(max+min);
    switch(max){
      case r: h=(g-b)/d+(g<b?6:0); break;
      case g: h=(b-r)/d+2; break;
      case b: h=(r-g)/d+4; break;
    }
    h=Math.round(h); s=Math.round(s*100); l=Math.round(l*100);
  }
  return {h,s,l};
}

// ---------------- ÂàÜÈ†ÅÂàáÊèõ ----------------
function showPage(newPage){
  if(currentPage){
    currentPage.classList.remove("active");
    currentPage.classList.add("exit-left");
  }
  currentPage = newPage;
  newPage.classList.remove("exit-left","exit-right");
  setTimeout(()=> newPage.classList.add("active"),10);
  app.innerHTML="";
  app.appendChild(newPage);
}

// ---------------- Router ----------------
function router(){
  const h=location.hash || "#home";
  if(h==="#home") renderHome();
  else if(h.startsWith("#palette/")) renderPalette(h.split("/")[1]);
  else if(h.startsWith("#color/")) renderColor(h.split("/")[1]);
  else renderHome();
}

// ---------------- Home ----------------
function renderHome(){
  const div = document.createElement("div");
  div.className="page";
  div.innerHTML = `
    <h2 style="text-align:center;margin-bottom:30px;">üé® Nippon Colors Palettes</h2>
    <div class="grid">
      ${palettes.map(p=>`
        <div class="card">
          <div class="colors" onclick="goPalette('${p.id}')">
            ${p.colors.map(c=>`<div style="background:${c.hex}"></div>`).join("")}
          </div>
          <p>${p.name} <span class="heart" onclick="toggleFav('${p.id}',event)">${favorites.includes(p.id)?"‚ù§Ô∏è":"ü§ç"}</span></p>
        </div>
      `).join("")}
    </div>
  `;
  showPage(div);
}

// ---------------- Palette Page ----------------
function renderPalette(id){
  const p = palettes.find(x=>x.id===id);
  if(!p){ location.hash="#home"; return; }
  const div = document.createElement("div");
  div.className="page";
  div.innerHTML = `
    <a class="back" href="#home">‚Üê Back</a>
    <div class="palette-full">
      ${p.colors.map(c=>`<div style="background:${c.hex}" onclick="goColor('${c.hex}')">${c.hex}</div>`).join("")}
    </div>
    <h2>UI Preview</h2>
    <div class="ui-demo">
      ${p.colors.slice(0,3).map((c,i)=>`
        <div class="demo-card">
          <button style="background:${c.hex}" onclick="showColorInfo('${c.hex}','${c.img}')">
            Button ${i+1}
          </button>
        </div>
      `).join("")}
    </div>
    <div id="color-info"></div>
  `;
  showPage(div);
}

// ---------------- Color Page ----------------
function renderColor(hex){
  const c = hex.startsWith("#") ? hex : "#"+hex;
  const {r,g,b} = hexToRgb(c);
  const {h,s,l} = rgbToHsl(r,g,b);
  const div = document.createElement("div");
  div.className="page";
  div.innerHTML = `
    <a class="back" href="#home">‚Üê Back</a>
    <div class="color-page">
      <div class="color-box" style="background:${c}">${c}</div>
      <p><b>HEX:</b> ${c}</p>
      <p><b>RGB:</b> rgb(${r},${g},${b})</p>
      <p><b>HSL:</b> hsl(${h},${s}%,${l}%)</p>
      <p><b>Ëâ≤Áí∞‰ΩçÁΩÆ:</b> ${h}¬∞</p>
    </div>
  `;
  showPage(div);
}

// ---------------- Actions ----------------
function goPalette(id){ location.hash="#palette/"+id; }
function goColor(hex){ location.hash="#color/"+hex.replace("#",""); }

function toggleFav(id,event){
  event.stopPropagation();
  favorites = favorites.includes(id)
    ? favorites.filter(x=>x!==id)
    : [...favorites,id];
  localStorage.setItem("fav",JSON.stringify(favorites));
  renderHome();
}

// ---------------- È°ØÁ§∫Ëâ≤ÂΩ©Ë≥áË®ä ----------------
function showColorInfo(hex,imgUrl){
  const {r,g,b} = hexToRgb(hex);
  const {h,s,l} = rgbToHsl(r,g,b);
  const infoHtml = `
    <p><b>HEX:</b> ${hex}</p>
    <p><b>RGB:</b> rgb(${r},${g},${b})</p>
    <p><b>HSL:</b> hsl(${h},${s}%,${l}%)</p>
    <p><b>Ëâ≤Áí∞‰ΩçÁΩÆ:</b> ${h}¬∞</p>
    <img src="${imgUrl}" alt="Color sample" style="width:100%;max-width:300px;margin-top:10px;border-radius:12px;">
  `;
  const infoBox = document.getElementById("color-info");
  if(infoBox){
    infoBox.innerHTML = infoHtml;
    infoBox.classList.add("show");
  }
}

window.addEventListener("hashchange",router);
router();
</script>
  
</body>
</html>

