<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>prototype</title>
  <link rel="icon" href="9582013.png">

<style>
body{
  margin:0;
  font-family:"Segoe UI",system-ui,sans-serif;
  background:linear-gradient(135deg,#f5f7fa,#c3cfe2);
}

header{
  background:#ffffffcc;
  padding:20px;
  text-align:center;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  position:sticky;
  top:0;
}

h1{ margin:0; }

main{
  max-width:1000px;
  margin:40px auto;
  padding:0 20px;
}

/* Ëâ≤Á•®ÁâÜ */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:20px;
}

.card{
  background:#fff;
  border-radius:14px;
  padding:12px;
  cursor:pointer;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  transition:.25s;
}

.card:hover{
  transform:translateY(-4px);
}

.colors{
  display:flex;
  height:80px;
  border-radius:10px;
  overflow:hidden;
}

.colors div{
  flex:1;
}

.card p{
  margin:10px 0 0;
  font-weight:600;
}

/* Ë®≠Ë®àÈ†Å */
.palette-page h2{
  margin-bottom:20px;
}

.palette-full{
  display:flex;
  height:300px;
  border-radius:18px;
  overflow:hidden;
}

.palette-full div{
  flex:1;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding:12px;
  color:white;
  font-weight:bold;
  letter-spacing:.5px;
}

.back{
  margin-bottom:20px;
  display:inline-block;
  color:#333;
  text-decoration:none;
}

  .intro{
  min-height:70vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.intro h2{
  font-size:42px;
  margin-bottom:10px;
}

.intro p{
  color:#555;
  margin-bottom:30px;
}

.start-btn{
  background:#111;
  color:white;
  padding:14px 26px;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
}

  /* ---------- Nipponcolors UI tuning ---------- */

.card{
  box-shadow:none;
  border-radius:0;
}

.colors{
  height:140px;
}

.card-footer{
  font-size:13px;
  letter-spacing:.4px;
  opacity:.8;
}


</style>
</head>

<body>

<header>
  <h1>üé® Color Palettes</h1>
</header>

<main id="app"></main>

<script>
/* ---------- Utilities ---------- */
  /* ---------- Nippon-style Color System ---------- */
const baseColors = [
  { name:"Crimson", hue:0 },
  { name:"Vermilion", hue:15 },
  { name:"Amber", hue:38 },
  { name:"Olive", hue:75 },
  { name:"Forest", hue:135 },
  { name:"Teal", hue:180 },
  { name:"Indigo", hue:220 },
  { name:"Ultramarine", hue:240 },
  { name:"Plum", hue:280 }
];

function hslToHex(h,s,l){
  s/=100; l/=100;
  const k=n=>(n+h/30)%12;
  const a=s*Math.min(l,1-l);
  const f=n=>l-a*Math.max(-1,Math.min(k(n)-3,Math.min(9-k(n),1)));
  return "#"+[f(0),f(8),f(4)]
    .map(x=>Math.round(255*x).toString(16).padStart(2,"0"))
    .join("").toUpperCase();
}

function generatePalette(){
  const base = baseColors[Math.floor(Math.random()*baseColors.length)];
  const s = 45 + Math.random()*15;     // Ë®≠Ë®àÂÆâÂÖ®ÂΩ©Â∫¶
  const steps = [88,68,48,28];         // Nipponcolors È¢®Ê†ºÊòéÂ∫¶ÈöéÊ¢Ø

  return {
    id:"p"+Date.now(),
    name: base.name,
    colors: steps.map(l => hslToHex(base.hue,s,l))
  };
}


/* ---------- State ---------- */
let palettes=[
  {id:"sunset",name:"Sunset",colors:["#FF6B6B","#FFD93D","#6BCB77","#4D96FF"]}
];
let favorites=JSON.parse(localStorage.getItem("fav")||"[]");

/* ---------- Router ---------- */
function router(){
  const h=location.hash || "#intro";
  if(h==="#intro") renderIntro();
  else if(h==="#home") renderHome();
  else if(h.startsWith("#palette/")) renderPalette(h.split("/")[1]);
  else if(h.startsWith("#color/")) renderColor(h.split("/")[1]);
  else renderIntro();
}

/* ---------- Intro ---------- */
function renderIntro(){
  app.innerHTML=`
    <div class="intro">
      <h2>üé® Color Palette Lab</h2>
      <p>Generate, explore, and save beautiful color palettes.</p>
      <div class="start-btn" onclick="startApp()">Start Generating</div>
    </div>
  `;
}

function startApp(){
  location.hash="#home";
}

/* ---------- Home ---------- */
function renderHome(){
  app.innerHTML=`
  <div class="grid">
  ${palettes.map(p=>`
    <div class="card">
      <div class="colors" onclick="goPalette('${p.id}')">
        ${p.colors.map(c=>`<div style="background:${c}"></div>`).join("")}
      </div>
      <div class="card-footer">
        <b>${p.name}</b>
        <span class="heart" onclick="toggleFav('${p.id}')">
          ${favorites.includes(p.id)?"‚ù§Ô∏è":"ü§ç"}
        </span>
      </div>
    </div>
  `).join("")}
  </div>`;
}

/* ---------- Palette Page ---------- */
function renderPalette(id){
  const p=palettes.find(x=>x.id===id);
  if(!p){location.hash="#home";return;}
  app.innerHTML=`
  <a class="back" href="#home">‚Üê Back</a>
  <div class="palette-full">
    ${p.colors.map(c=>`
      <div style="background:${c}" onclick="goColor('${c.slice(1)}')">${c}</div>
    `).join("")}
  </div>

  <h2>UI Preview</h2>
  <div class="ui-demo">
    <div class="demo-card">
      <button style="background:${p.colors[0]}">Primary Button</button>
    </div>
    <div class="demo-card" style="border-top:6px solid ${p.colors[1]}">
      Card Highlight
    </div>
    <div class="demo-card" style="background:${p.colors[2]};color:white">
      Hero Section
    </div>
  </div>`;
}

/* ---------- Color Page ---------- */
function renderColor(hex){
  const c="#"+hex;
  app.innerHTML=`
  <a class="back" href="#home">‚Üê Back</a>
  <div class="color-page">
    <div class="color-box" style="background:${c}">${c}</div>
    <p>Use this color as background, accent, or highlight.</p>
  </div>`;
}

/* ---------- Actions ---------- */
function goPalette(id){ location.hash="#palette/"+id; }
function goColor(hex){ location.hash="#color/"+hex; }

function toggleFav(id){
  favorites = favorites.includes(id)
    ? favorites.filter(x=>x!==id)
    : [...favorites,id];
  localStorage.setItem("fav",JSON.stringify(favorites));
  renderHome();
}

/* ---------- Keyboard ---------- */
window.addEventListener("keydown",e=>{
  if(e.code==="Space" && location.hash==="#home"){
    palettes.unshift(generatePalette());
    renderHome();
  }
});


window.addEventListener("hashchange",router);
router();
</script>


</body>
</html>

